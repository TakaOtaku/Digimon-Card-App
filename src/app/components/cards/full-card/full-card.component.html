<div class="relative inline-flex transition-transform hover:scale-105 w-full">
	<div (click)="addCardToDeck()" (contextmenu)="showCardDetails()">
    <div class="absolute w-full top-1 z-10 grid grid-cols-5 gap-0">
      <div></div>
      <img
        *ngIf="card.version !== 'Normal'"
        [src]="aa.get(this.card.color) ?? 'assets/images/banner/ico_card_detail_multi.png'"
        alt="AA-Banner"
        class="w-full col-span-3"
      />
    </div>

		<img
			[lazyLoad]="card.cardImage"
			[ngClass]="{ grayscale: count < collectionMinimum && collectionMode }"
			[ngStyle]="{ border: cardBorder, 'border-radius': cardRadius }"
			alt="{{ card.cardNumber + ' ' + card.name }}"
			class="m-auto"
			defaultImage="assets/images/digimon-card-back.webp"
		/>
	</div>

	<span
		*ngIf="deckBuilder && countInDeck !== 0"
		class="text-shadow-white absolute right-1 z-[100] px-1 text-3xl font-black text-orange-500" [ngClass]="{ 'bottom-1': !collectionMode, ' bottom-10' : collectionMode }"
	>
		{{ countInDeck }}<span class="pr-1 text-sky-700">/</span
		>{{ card.cardNumber === "BT6-085" || card.cardNumber === "EX2-046" ? 50 : 4 }}
	</span>

  <div *ngIf="collectionMode" class="counter flex flex-row h-8 w-full rounded-lg bg-transparent mx-5">
    <button (click)="decreaseCardCount(card.id)" class="primary-background text-white h-full w-1/3 rounded-l cursor-pointer outline-none">
      <span class="m-auto text-2xl font-thin">âˆ’</span>
    </button>
    <input type="number" min="0"
           class="outline-none appearance-none focus:outline-none text-center
           w-1/3 primary-background font-semibold text-md text-white md:text-base cursor-default flex items-center" [(ngModel)]="count" (change)="changeCardCount($event, card.id)"/>
    <button (click)="increaseCardCount(card.id)" class="primary-background text-white h-full w-1/3 rounded-r cursor-pointer outline-none">
      <span class="m-auto text-2xl font-thin">+</span>
    </button>
  </div>

	<!--p-inputNumber
		(onInput)="changeCardCount($event, card.id)"
		*ngIf="collectionMode"
		[(ngModel)]="count"
		[inputStyle]="{ width: '100%', 'text-align': 'center' }"
		[min]="0"
		[readonly]="true"
		[showButtons]="true"
		[style]="{ width: '100%' }"
		buttonLayout="vertical"
		class="card-count"
		decrementButtonClass="p-button-secondary"
		decrementButtonIcon="pi pi-minus"
		incrementButtonClass="p-button-secondary"
		incrementButtonIcon="pi pi-plus"
		placeholder="0"
	></p-inputNumber-->
</div>
