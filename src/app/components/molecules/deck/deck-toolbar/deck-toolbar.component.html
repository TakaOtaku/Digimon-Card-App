<div
  class="toolbar ml-3 mr-3 grid w-[100%-3rem] grid-cols-6 justify-evenly border-b-2 border-slate-600 md:grid-cols-12"
>
  <div
    class="primary-color flex h-[30px] flex-row justify-center border-2 border-slate-500 pt-1 text-center"
  >
    <b>{{ getCardCount("Egg") }}</b>
    /
    <p class="bottom-font pr-1">5</p>
    <p class="text-xs">Eggs</p>
  </div>

  <div
    class="primary-color col-span-2 flex h-[30px] flex-row justify-center border-2 border-slate-500 pt-1 text-center"
  >
    <b>{{ getCardCount("Main") }}</b>
    /
    <p class="bottom-font pr-1">50</p>
    <p class="text-xs">Cards</p>
  </div>

  <button
    (click)="missingCardsChange.emit(!missingCards)"
    [ngClass]="{ 'primary-background': missingCards }"
    class="p-button-outlined h-[30px] w-full"
    icon="pi pi-times"
    iconPos="left"
    pButton
    pTooltip="Click to show what cards are missing from your Collection!"
    tooltipPosition="top"
  ></button>

  <button
    (click)="newDeck()"
    class="p-button-outlined h-[30px] w-full"
    icon="pi pi-file"
    iconPos="left"
    pButton
    pTooltip="Click to create a new Deck!"
    tooltipPosition="top"
  ></button>

  <button
    (click)="save.emit($event)"
    class="p-button-outlined h-[30px] w-full"
    icon="pi pi-save"
    iconPos="left"
    pButton
    pTooltip="Click to save the current Deck!"
    tooltipPosition="top"
  ></button>

  <button
    (click)="delete.emit(true)"
    class="p-button-outlined h-[30px] w-full"
    icon="pi pi-trash"
    iconPos="left"
    pButton
    pTooltip="Click to clear all cards currently in the deck!"
    tooltipPosition="top"
  ></button>

  <button
    (click)="importDeckDialog = true"
    class="p-button-outlined h-[30px] w-full"
    icon="pi pi-upload"
    iconPos="left"
    pButton
    pTooltip="Click to import a deck!"
    tooltipPosition="top"
  ></button>

  <button
    (click)="exportDeckDialog = true"
    class="p-button-outlined h-[30px] w-full"
    icon="pi pi-download"
    iconPos="left"
    pButton
    pTooltip="Click to export this deck!"
    tooltipPosition="top"
  ></button>

  <button
    (click)="hideStats.emit(true)"
    class="p-button-outlined h-[30px] w-full"
    icon="pi pi-chart-bar"
    iconPos="left"
    pButton
    pTooltip="Click to hide/show deck statistics!"
    tooltipPosition="top"
  ></button>

  <button
    (click)="share.emit(true)"
    class="p-button-outlined h-[30px] w-full"
    icon="pi pi-share-alt"
    iconPos="left"
    pButton
    pTooltip="Click to share this deck with the community!"
    tooltipPosition="top"
  ></button>

  <button
    (click)="simulate()"
    class="p-button-outlined h-[30px] w-full"
    icon="pi pi-refresh"
    iconPos="left"
    pButton
    pTooltip="Click to simulate your draw hand and the security stack!"
    tooltipPosition="top"
  ></button>
</div>

<p-dialog
  header="Simulate Security/Draw"
  [(visible)]="simulateDialog"
  styleClass="w-[100%] min-w-[250px] sm:min-w-[500px] sm:w-[700px] min-h-[500px]"
  [baseZIndex]="10000"
>
  <!-- Security Stack -->
  <h1 class="text-center text-2xl font-bold">Security Stack</h1>
  <div class="mt-5 flex flex-row">
    <div *ngFor="let secCard of securityStack" class="cards-in-a-row-5 mr-1">
      <img
        [src]="secCard.cardImage"
        [alt]="secCard.id + ' - ' + secCard.name"
      />
    </div>
  </div>

  <h1 class="text-center text-2xl font-bold">Draw Hand</h1>
  <div class="mt-5 flex flex-row">
    <div *ngFor="let drawCard of drawHand" class="cards-in-a-row-5 mr-1">
      <img
        [src]="drawCard.cardImage"
        [alt]="drawCard.id + ' - ' + drawCard.name"
      />
    </div>
  </div>

  <div class="mt-5 flex w-full justify-end">
    <button pButton (click)="mulligan()">Mulligan</button>
    <button pButton class="ml-5" (click)="resetSimulation()">Reset</button>
  </div>
</p-dialog>

<p-dialog
  header="Export Deck"
  [(visible)]="exportDeckDialog"
  styleClass="w-[100%] min-w-[250px] sm:min-w-[500px] sm:w-[700px] min-h-[500px]"
  [baseZIndex]="10000"
  ><digimon-export-deck-dialog [deck]="deck"></digimon-export-deck-dialog
></p-dialog>

<p-dialog
  header="Import Deck"
  [(visible)]="importDeckDialog"
  styleClass="w-[100%] min-w-[250px] sm:min-w-[500px] sm:w-[700px] min-h-[500px]"
  [baseZIndex]="10000"
  ><digimon-import-deck-dialog></digimon-import-deck-dialog
></p-dialog>
